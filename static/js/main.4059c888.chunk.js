(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var r=a(0),s=a.n(r),n=a(7),i=a.n(n),l=a(2),u=a(3),o=a(1),c=a(5),h=a(4),d=function(e){return s.a.createElement("div",{className:"modal-wrapper"},s.a.createElement("div",{className:"modal-backdrop"}," "),s.a.createElement("div",{className:"modal-box"}," ",e.children," "))};a(13),a(14);function g(){return s.a.createElement("div",{className:"App"},s.a.createElement(f,null))}var f=function(e){Object(c.a)(a,e);var t=Object(h.a)(a);function a(e){var r;Object(l.a)(this,a),(r=t.call(this,e)).state={difficulty:"Easy",rows:9,columns:9,numUnopened:81,numMines:10,flagsLeft:10,hasLost:!1,hasWon:!1,mines:Array(9).fill().map((function(){return Array(9).fill(!1)})),cleared:Array(9).fill().map((function(){return Array(9).fill(!1)})),flagged:Array(9).fill().map((function(){return Array(9).fill(!1)})),surrounding:Array(9).fill().map((function(){return Array(9).fill(0)}))},r.changeDifficulty=r.changeDifficulty.bind(Object(o.a)(r)),r.changeCleared=r.changeCleared.bind(Object(o.a)(r)),r.changeFlagged=r.changeFlagged.bind(Object(o.a)(r));for(var s=r.state.numMines;s>0;){var n=Math.floor(Math.random()*r.state.rows),i=Math.floor(Math.random()*r.state.columns);r.state.mines[n][i]||(r.state.mines[n][i]=!0,s--)}for(var u=0;u<r.state.rows;u++)for(var c=0;c<r.state.columns;c++)r.state.mines[u][c]&&(0===u&&0===c?(r.state.surrounding[u][c+1]+=1,r.state.surrounding[u+1][c]+=1,r.state.surrounding[u+1][c+1]+=1):0===u&&c===r.state.columns-1?(r.state.surrounding[u][c-1]+=1,r.state.surrounding[u+1][c]+=1,r.state.surrounding[u+1][c-1]+=1):u===r.state.rows-1&&0===c?(r.state.surrounding[u][c+1]+=1,r.state.surrounding[u-1][c]+=1,r.state.surrounding[u-1][c+1]+=1):u===r.state.rows-1&&c===r.state.columns-1?(r.state.surrounding[u][c-1]+=1,r.state.surrounding[u-1][c]+=1,r.state.surrounding[u-1][c-1]+=1):0===u?(r.state.surrounding[u][c-1]+=1,r.state.surrounding[u][c+1]+=1,r.state.surrounding[u+1][c-1]+=1,r.state.surrounding[u+1][c]+=1,r.state.surrounding[u+1][c+1]+=1):u===r.state.rows-1?(r.state.surrounding[u][c-1]+=1,r.state.surrounding[u][c+1]+=1,r.state.surrounding[u-1][c-1]+=1,r.state.surrounding[u-1][c]+=1,r.state.surrounding[u-1][c+1]+=1):0===c?(r.state.surrounding[u][c+1]+=1,r.state.surrounding[u+1][c]+=1,r.state.surrounding[u+1][c+1]+=1,r.state.surrounding[u-1][c]+=1,r.state.surrounding[u-1][c+1]+=1):c===r.state.columns-1?(r.state.surrounding[u][c-1]+=1,r.state.surrounding[u+1][c]+=1,r.state.surrounding[u+1][c-1]+=1,r.state.surrounding[u-1][c]+=1,r.state.surrounding[u-1][c-1]+=1):(r.state.surrounding[u][c-1]+=1,r.state.surrounding[u][c+1]+=1,r.state.surrounding[u+1][c]+=1,r.state.surrounding[u+1][c+1]+=1,r.state.surrounding[u+1][c-1]+=1,r.state.surrounding[u-1][c]+=1,r.state.surrounding[u-1][c+1]+=1,r.state.surrounding[u-1][c-1]+=1));return r}return Object(u.a)(a,[{key:"changeDifficulty",value:function(e){var t,a,r,s,n;switch(e){case"Easy":t=9,a=9,s=81,n=10,r=10;break;case"Medium":t=16,a=16,s=256,n=40,r=40;break;case"Hard":t=16,a=30,s=480,n=99,r=99;break;default:t=9,a=9,s=81,n=10,r=10}for(var i=Array(t).fill().map((function(){return Array(a).fill(!1)})),l=n;l>0;){var u=Math.floor(Math.random()*t),o=Math.floor(Math.random()*a);i[u][o]||(i[u][o]=!0,l--)}for(var c=Array(t).fill().map((function(){return Array(a).fill(0)})),h=0;h<t;h++)for(var d=0;d<a;d++)i[h][d]&&(0===h&&0===d?(c[h][d+1]+=1,c[h+1][d]+=1,c[h+1][d+1]+=1):0===h&&d===a-1?(c[h][d-1]+=1,c[h+1][d]+=1,c[h+1][d-1]+=1):h===t-1&&0===d?(c[h][d+1]+=1,c[h-1][d]+=1,c[h-1][d+1]+=1):h===t-1&&d===a-1?(c[h][d-1]+=1,c[h-1][d]+=1,c[h-1][d-1]+=1):0===h?(c[h][d-1]+=1,c[h][d+1]+=1,c[h+1][d-1]+=1,c[h+1][d]+=1,c[h+1][d+1]+=1):h===t-1?(c[h][d-1]+=1,c[h][d+1]+=1,c[h-1][d-1]+=1,c[h-1][d]+=1,c[h-1][d+1]+=1):0===d?(c[h][d+1]+=1,c[h+1][d]+=1,c[h+1][d+1]+=1,c[h-1][d]+=1,c[h-1][d+1]+=1):d===a-1?(c[h][d-1]+=1,c[h+1][d]+=1,c[h+1][d-1]+=1,c[h-1][d]+=1,c[h-1][d-1]+=1):(c[h][d-1]+=1,c[h][d+1]+=1,c[h+1][d]+=1,c[h+1][d+1]+=1,c[h+1][d-1]+=1,c[h-1][d]+=1,c[h-1][d+1]+=1,c[h-1][d-1]+=1));this.setState({difficulty:e,rows:t,columns:a,numUnopened:s,numMines:n,flagsLeft:r,mines:i,cleared:Array(t).fill().map((function(){return Array(a).fill(!1)})),flagged:Array(t).fill().map((function(){return Array(a).fill(!1)})),surrounding:c})}},{key:"changeCleared",value:function(e,t){var a=this,r=this.state.flagged[e][t],s=this.state.cleared[e][t],n=this.state.mines[e][t];if(!r)if(n){var i=Array(this.state.rows).fill().map((function(){return Array(a.state.columns).fill(!0)})),l=Array(this.state.rows).fill().map((function(){return Array(a.state.columns).fill(!1)}));this.setState({hasLost:!0,cleared:i,flagged:l})}else if(!s){var u,o=this.state.cleared.slice();this.clearSquares(e,t,o);var c=!1;(u=o.flat().reduce((function(e,t){return!1===t?e+=1:e}),0))===this.state.numMines&&(c=!0),this.setState({cleared:o,numUnopened:u,hasWon:c})}}},{key:"clearSquares",value:function(e,t,a){return this.state.cleared[e][t]||this.state.flagged[e][t]||(a[e][t]=!0,0===this.state.surrounding[e][t]&&(0===e&&0===t?(this.clearSquares(e,t+1,a),this.clearSquares(e+1,t,a),this.clearSquares(e+1,t+1,a)):0===e&&t===this.state.columns-1?(this.clearSquares(e,t-1,a),this.clearSquares(e+1,t,a),this.clearSquares(e+1,t-1,a)):e===this.state.rows-1&&0===t?(this.clearSquares(e,t+1,a),this.clearSquares(e-1,t,a),this.clearSquares(e-1,t+1,a)):e===this.state.rows-1&&t===this.state.columns-1?(this.clearSquares(e,t-1,a),this.clearSquares(e-1,t,a),this.clearSquares(e-1,t-1,a)):0===e?(this.clearSquares(e,t+1,a),this.clearSquares(e+1,t,a),this.clearSquares(e,t-1,a),this.clearSquares(e+1,t-1,a),this.clearSquares(e+1,t+1,a)):e===this.state.rows-1?(this.clearSquares(e,t+1,a),this.clearSquares(e-1,t,a),this.clearSquares(e,t-1,a),this.clearSquares(e-1,t-1,a),this.clearSquares(e-1,t+1,a)):0===t?(this.clearSquares(e,t+1,a),this.clearSquares(e+1,t,a),this.clearSquares(e-1,t,a),this.clearSquares(e-1,t+1,a),this.clearSquares(e+1,t+1,a)):t===this.state.columns-1?(this.clearSquares(e,t-1,a),this.clearSquares(e+1,t,a),this.clearSquares(e-1,t,a),this.clearSquares(e-1,t-1,a),this.clearSquares(e+1,t-1,a)):(this.clearSquares(e,t+1,a),this.clearSquares(e,t-1,a),this.clearSquares(e+1,t,a),this.clearSquares(e-1,t,a),this.clearSquares(e-1,t-1,a),this.clearSquares(e-1,t+1,a),this.clearSquares(e+1,t-1,a),this.clearSquares(e+1,t+1,a)))),a}},{key:"changeFlagged",value:function(e,t){var a=this.state.flagged[e][t];if(!this.state.cleared[e][t]){var r,s=this.state.flagged.slice();this.state.flagsLeft>0&&!a?(s[e][t]=!0,r=this.state.flagsLeft-1):a&&(s[e][t]=!1,r=this.state.flagsLeft+1),this.setState({flagged:s,flagsLeft:r})}}},{key:"render",value:function(){var e,t=this;return this.state.hasLost?e=s.a.createElement("div",null,s.a.createElement(d,null,"You've lost, start a ",s.a.createElement(y,null),"\xa0 ?")):this.state.hasWon&&(e=s.a.createElement("div",null,s.a.createElement(d,null,"You've won! Start a ",s.a.createElement(y,null),"\xa0 ?"))),s.a.createElement("div",{className:"Board"},s.a.createElement("div",{className:"SelectorBox"},s.a.createElement(m,{onChange:this.changeDifficulty}),s.a.createElement("span",null,"Flags left: ",this.state.flagsLeft)),s.a.createElement("div",{className:"Squares"}," ",Array(this.state.rows).fill().map((function(e,a){return s.a.createElement("div",{className:"Row"}," ",Array(t.state.columns).fill().map((function(e,r){return s.a.createElement(p,{row:a,col:r,onClick:t.changeCleared,onContextMenu:t.changeFlagged,isMine:t.state.mines[a][r],isFlagged:t.state.flagged[a][r],isCleared:t.state.cleared[a][r],surrounding:t.state.surrounding[a][r]})}))," ")}))),e)}}]),a}(s.a.Component),m=function(e){Object(c.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).handleChange=r.handleChange.bind(Object(o.a)(r)),r.state={value:"Easy"},r}return Object(u.a)(a,[{key:"handleChange",value:function(e){var t=e.target.value;this.setState({value:t}),this.props.onChange(t)}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("select",{className:"Selector",onChange:this.handleChange,style:{width:"".concat(10*this.state.value.length+14,"px")}},s.a.createElement("option",{value:"Easy"},"Easy"),s.a.createElement("option",{value:"Medium"},"Medium"),s.a.createElement("option",{value:"Hard"},"Hard")))}}]),a}(s.a.Component),p=function(e){Object(c.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).handleClick=r.handleClick.bind(Object(o.a)(r)),r.handleContextMenu=r.handleContextMenu.bind(Object(o.a)(r)),r}return Object(u.a)(a,[{key:"handleClick",value:function(e){this.props.onClick(this.props.row,this.props.col)}},{key:"handleContextMenu",value:function(e){e.preventDefault(),this.props.onContextMenu(this.props.row,this.props.col)}},{key:"render",value:function(){var e,t=this.props.isCleared?"lightgray":"lightslategray";return this.props.isFlagged?(t="red",e=s.a.createElement("p",{style:{color:"white"}},"F")):this.props.isCleared&&(this.props.isMine?(t="gray",e=s.a.createElement("p",{style:{color:"white"}},"M")):0===this.props.surrounding?e=s.a.createElement("p",null):1===this.props.surrounding?e=s.a.createElement("p",{style:{color:"blue"}},this.props.surrounding):2===this.props.surrounding?e=s.a.createElement("p",{style:{color:"green"}},this.props.surrounding):3===this.props.surrounding?e=s.a.createElement("p",{style:{color:"red"}},this.props.surrounding):4===this.props.surrounding?e=s.a.createElement("p",{style:{color:"purple"}},this.props.surrounding):5===this.props.surrounding?e=s.a.createElement("p",{style:{color:"maroon"}},this.props.surrounding):6===this.props.surrounding?e=s.a.createElement("p",{style:{color:"azure"}},this.props.surrounding):7===this.props.surrounding?e=s.a.createElement("p",{style:{color:"black"}},this.props.surrounding):8===this.props.surrounding&&(e=s.a.createElement("p",{style:{color:"gray"}},this.props.surrounding))),s.a.createElement("button",{className:"Square",onClick:this.handleClick,onContextMenu:this.handleContextMenu,style:{background:t}},e)}}]),a}(s.a.Component),y=function(){return s.a.createElement("button",{className:"NewGame",onClick:function(){return window.location.reload()}},"New game")},v=document.getElementById("root");i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(g,null)),v)},8:function(e,t,a){e.exports=a(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.4059c888.chunk.js.map